<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Card for Anisha Fathima</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='90'>üéÇ</text></svg>">
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Dancing+Script:wght@500;700&amp;family=Quicksand:wght@400;500;600&amp;display=swap" rel="stylesheet">
  <style>
    .font-playfair { font-family: 'Playfair Display', serif; }
    .font-dancing { font-family: 'Dancing Script', cursive; }
    .font-quicksand { font-family: 'Quicksand', sans-serif; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes dance {
      0%, 100% { transform: translateY(0) rotate(-5deg) scale(1); }
      25% { transform: translateY(-15px) rotate(5deg) scale(1.05); }
      50% { transform: translateY(-10px) rotate(-5deg) scale(1); }
      75% { transform: translateY(-18px) rotate(8deg) scale(1.08); }
    }
    
    @keyframes dance-left {
      0%, 100% { transform: translateX(0) translateY(0) rotate(5deg); }
      25% { transform: translateX(-10px) translateY(-12px) rotate(-5deg); }
      50% { transform: translateX(0) translateY(-8px) rotate(5deg); }
      75% { transform: translateX(8px) translateY(-15px) rotate(-8deg); }
    }
    
    @keyframes dance-right {
      0%, 100% { transform: translateX(0) translateY(0) rotate(-5deg); }
      25% { transform: translateX(10px) translateY(-12px) rotate(5deg); }
      50% { transform: translateX(0) translateY(-8px) rotate(-5deg); }
      75% { transform: translateX(-8px) translateY(-15px) rotate(8deg); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100%) rotate(720deg); opacity: 0; }
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 182, 193, 0.5); }
      50% { box-shadow: 0 0 40px rgba(255, 182, 193, 0.8), 0 0 60px rgba(255, 215, 0, 0.3); }
    }
    
    @keyframes music-bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      25% { transform: translateY(-8px) scale(1.1); }
      50% { transform: translateY(0) scale(1); }
      75% { transform: translateY(-4px) scale(1.05); }
    }
    
    @keyframes swing {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(8deg); }
      50% { transform: rotate(0deg); }
      75% { transform: rotate(-8deg); }
    }
    
    @keyframes balloon-rise {
      0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 1; }
      50% { transform: translateY(50vh) translateX(30px) rotate(10deg); opacity: 1; }
      100% { transform: translateY(-100px) translateX(-20px) rotate(-10deg); opacity: 0; }
    }
    
    @keyframes bubble-float {
      0% { transform: translateY(100vh) scale(0.5); opacity: 1; }
      50% { transform: translateY(50vh) translateX(40px) scale(1); opacity: 1; }
      100% { transform: translateY(-50px) translateX(-60px) scale(0.3); opacity: 0; }
    }
    
    @keyframes bubble-wobble {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(10px) rotate(5deg); }
      50% { transform: translateX(-10px) rotate(-5deg); }
      75% { transform: translateX(5px) rotate(3deg); }
    }
    
    @keyframes code-fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    @keyframes icon-blast {
      0% { 
        transform: translate(var(--start-x), var(--start-y)) scale(1) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--end-x), var(--end-y)) scale(0) rotate(360deg);
        opacity: 0;
      }
    }
    
    @keyframes code-badge-float {
      0% { transform: translateY(100px) rotate(-20deg) scale(0.5); opacity: 0; }
      20% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
      80% { opacity: 1; }
      100% { transform: translateY(-200px) rotate(20deg) scale(0.5); opacity: 0; }
    }
    
    @keyframes color-pulse {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.2); }
    }
    
    @keyframes countdown-bounce {
      0% { transform: scale(1) translateY(0); }
      50% { transform: scale(1.2) translateY(-30px); }
      100% { transform: scale(1) translateY(0); }
    }
    
    @keyframes countdown-fade-out {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.5); }
    }
    
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-float-delay { animation: float 3s ease-in-out infinite 0.5s; }
    .animate-dance { animation: dance 2s ease-in-out infinite; }
    .animate-dance-left { animation: dance-left 2.2s ease-in-out infinite; }
    .animate-dance-right { animation: dance-right 2.2s ease-in-out infinite; }
    .animate-sparkle { animation: sparkle 2s ease-in-out infinite; }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    .animate-music { animation: music-bounce 1.5s ease-in-out infinite; }
    .animate-swing { animation: swing 1.5s ease-in-out infinite; }
    
    .countdown-active {
      animation: countdown-bounce 1s ease-in-out infinite;
    }
    
    .countdown-fade {
      animation: countdown-fade-out 0.8s ease-out forwards;
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      animation: confetti-fall 4s linear infinite;
    }
    
    .balloon {
      position: fixed;
      border-radius: 50%;
      opacity: 0.85;
      filter: drop-shadow(0 4px 12px rgba(0,0,0,0.25));
      pointer-events: none;
      box-shadow: inset -2px -2px 6px rgba(0,0,0,0.2);
    }
    
    .balloon::before {
      content: '';
      position: absolute;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 20px;
      background: linear-gradient(to bottom, rgba(100,100,100,0.3), transparent);
    }
    
    .balloon-red { 
      background: linear-gradient(135deg, #FF4757 0%, #FF6b6b 50%, #FF8787 100%); 
      animation: balloon-rise 7s ease-in infinite; 
    }
    .balloon-blue { 
      background: linear-gradient(135deg, #4A90E2 0%, #357ABD 50%, #3498db 100%); 
      animation: balloon-rise 8s ease-in infinite; 
    }
    .balloon-yellow { 
      background: linear-gradient(135deg, #FFD700 0%, #FFC700 50%, #FFB700 100%); 
      animation: balloon-rise 9s ease-in infinite; 
    }
    .balloon-pink { 
      background: linear-gradient(135deg, #FF69B4 0%, #FF1493 50%, #FF69B4 100%); 
      animation: balloon-rise 7.5s ease-in infinite; 
    }
    .balloon-purple { 
      background: linear-gradient(135deg, #9B59B6 0%, #8E44AD 50%, #AF7AC5 100%); 
      animation: balloon-rise 8.5s ease-in infinite; 
    }
    .balloon-green { 
      background: linear-gradient(135deg, #2ECC71 0%, #27AE60 50%, #1ABC9C 100%); 
      animation: balloon-rise 9.5s ease-in infinite; 
    }
    
    .bubble {
      position: fixed;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.6);
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), rgba(100,150,255,0.1));
      opacity: 0.7;
      pointer-events: none;
    }
    
    .bubble-float {
      animation: bubble-float 6s ease-in forwards, bubble-wobble 3s ease-in-out infinite;
    }
    
    .code-tag {
      position: fixed;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
      color: #FFE4B5;
      padding: 6px 12px;
      border-radius: 14px;
      font-family: 'Courier New', monospace;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.8px;
      border: 1.5px solid #D2691E;
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
      pointer-events: none;
      text-transform: uppercase;
      animation: code-fall 8s ease-in forwards;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
      transition: background 0.5s ease, color 0.5s ease, border-color 0.5s ease;
    }
    
    .code-badge {
      position: absolute;
      padding: 8px 14px;
      border-radius: 12px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 1px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      animation: code-badge-float 6s ease-in-out infinite;
      text-transform: uppercase;
      pointer-events: none;
      z-index: 20;
      transition: background 0.5s ease, color 0.5s ease, border-color 0.5s ease;
    }
    
    .badge-html {
      background: linear-gradient(135deg, #E34C26 0%, #FF6B35 100%);
      color: #FFF;
      border: 2px solid #FF8C42;
    }
    
    .badge-css {
      background: linear-gradient(135deg, #1572B6 0%, #33A9DC 100%);
      color: #FFF;
      border: 2px solid #66D9EF;
    }
    
    .badge-js {
      background: linear-gradient(135deg, #F7DF1E 0%, #FFE055 100%);
      color: #333;
      border: 2px solid #FFC837;
    }
    
    .badge-animation {
      background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
      color: #FFF;
      border: 2px solid #FF69B4;
    }
    
    .theme-transition {
      transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease;
    }
    
    .card-hover {
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      cursor: pointer;
    }
    
    .card-hover:hover {
      transform: scale(1.03) translateY(-8px);
      filter: drop-shadow(0 20px 40px rgba(0,0,0,0.35));
    }
    
    .element-hover {
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      cursor: pointer;
    }
    
    .element-hover:hover {
      transform: scale(1.12) rotate(-8deg);
      filter: brightness(1.25) drop-shadow(0 8px 20px rgba(255,182,193,0.6));
    }
    
    .text-hover {
      position: relative;
      display: inline-block;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      cursor: pointer;
    }
    
    .text-hover:hover {
      transform: scale(1.08);
      text-shadow: 0 0 25px rgba(199,21,133,0.8), 0 0 35px rgba(255,215,0,0.4);
    }
    
    .toggle-switch {
      position: relative;
      width: 60px;
      height: 34px;
      cursor: pointer;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #FFD700;
      transition: 0.4s;
      border-radius: 34px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    
    .toggle-slider:before {
      position: absolute;
      content: "‚òÄÔ∏è";
      height: 28px;
      width: 28px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: 0.4s;
    }
    
    input:checked + .toggle-slider {
      background-color: #2C3E50;
    }
    
    input:checked + .toggle-slider:before {
      content: "üåô";
      transform: translateX(26px);
    }
    
    .chocolate-variant {
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      transition: all 0.3s ease;
      font-size: 12px;
      letter-spacing: 0.5px;
    }
    
    .variant-silk {
      background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
      color: #FFF8DC;
    }
    
    .variant-almond {
      background: linear-gradient(135deg, #D2691E 0%, #CD853F 100%);
      color: #FFFACD;
    }
    
    .variant-caramel {
      background: linear-gradient(135deg, #8B7355 0%, #A0826D 100%);
      color: #FFE4B5;
    }
    
    .variant-roast {
      background: linear-gradient(135deg, #5D3A1A 0%, #6B4423 100%);
      color: #F5DEB3;
    }
    
    .variant-white {
      background: linear-gradient(135deg, #E8D4C4 0%, #F5E6D3 100%);
      color: #5D3A1A;
    }

    .variant-gold {
      background: linear-gradient(135deg, #DDD89C 0%, #C4B896 100%);
      color: #5D3A1A;
    }
    
    .toy-container {
      perspective: 1000px;
      display: inline-block;
    }
    
    .music-button {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 40;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FF69B4, #FFD700);
      border: 3px solid #FFF;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
      animation: music-bounce 2s ease-in-out infinite;
    }
    
    .music-button:hover {
      transform: scale(1.15);
      box-shadow: 0 8px 25px rgba(255,105,180,0.6);
    }
    
    .trait-button {
      display: flex;
      align-items: center;
      gap: 8px;
      /* px: 4;
      py: 2; */
      border-radius: 100px;
      font-weight: 600;
      font-size: 12px;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      border: 2px solid transparent;
      user-select: none;
    }
    
    .trait-button:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 6px 15px rgba(0,0,0,0.3));
    }
    
    .trait-button:active {
      transform: scale(0.95);
    }
    
    .icon-blast {
      position: fixed;
      font-size: 32px;
      pointer-events: none;
      animation: icon-blast 1.2s ease-out forwards;
    }
    
    .light-theme-colors {
      --bg-primary: linear-gradient(135deg, #FFF5EE 0%, #FFE4E1 30%, #FFDAB9 60%, #FFF0F5 100%);
      --card-bg: linear-gradient(180deg, #FFFAF0 0%, #FFF5EE 50%, #FFEFD5 100%);
      --text-primary: #5D3A1A;
      --text-secondary: #8B5A2B;
      --accent: #C71585;
      --highlight: #FFD700;
    }
    
    .dark-theme-colors {
      --bg-primary: linear-gradient(135deg, #0F0F2E 0%, #1A1A4D 30%, #2D1B4E 60%, #1E0E3F 100%);
      --card-bg: linear-gradient(180deg, #1A1A3D 0%, #242454 50%, #1F1F42 100%);
      --text-primary: #E8D4C4;
      --text-secondary: #D4A574;
      --accent: #FF1493;
      --highlight: #00CED1;
    }

    body.light-theme {
      color-scheme: light;
    }

    body.dark-theme {
      color-scheme: dark;
    }

    #card-container.light-theme {
      background: var(--bg-primary);
    }

    #card-container.dark-theme {
      background: var(--bg-primary);
    }

    .card-body.light-theme {
      background: var(--card-bg);
    }

    .card-body.dark-theme {
      background: var(--card-bg);
    }

    .hidden {
      display: none !important;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0 overflow-auto theme-transition light-theme"><!-- Countdown Timer Screen -->
  <div id="countdown-screen" class="fixed inset-0 w-full h-full flex flex-col items-center justify-center z-50" style="background: linear-gradient(135deg, #FF6B9D 0%, #C44569 50%, #13547A 100%);">
   <div class="text-center">
    <h1 class="font-dancing text-6xl md:text-8xl mb-8" style="color: #FFF; text-shadow: 0 0 30px rgba(255,255,255,0.5); animation: float 3s ease-in-out infinite;">üéÇ Birthday Surprise! üéÇ</h1>
    <div id="countdown-number" class="font-playfair text-9xl md:text-10xl font-bold countdown-active" style="color: #FFD700; text-shadow: 0 0 40px rgba(255,215,0,0.8);">
     4
    </div>
    <p class="font-quicksand text-2xl md:text-4xl mt-8" style="color: #FFF; letter-spacing: 2px;">Get Ready...</p>
   </div>
  </div>
  <div id="card-container" class="light-theme min-h-full w-full flex flex-col items-center justify-center p-4 md:p-8 relative overflow-hidden theme-transition hidden"><!-- Music Button -->
   <div id="music-button" class="music-button" title="Play Birthday Music">
    üéµ
   </div><!-- Animated Balloons -->
   <div id="balloons-container" class="fixed inset-0 pointer-events-none"></div><!-- Animated Bubbles -->
   <div id="bubbles-container" class="fixed inset-0 pointer-events-none"></div><!-- Animated Code Tags -->
   <div id="code-tags-container" class="fixed inset-0 pointer-events-none"></div><!-- Icon Blast Container -->
   <div id="blast-container" class="fixed inset-0 pointer-events-none"></div><!-- Theme Toggle Button -->
   <div class="fixed top-4 right-4 z-50 flex items-center gap-3 element-hover"><span class="font-quicksand text-sm font-medium">Theme:</span> <label class="toggle-switch"> <input type="checkbox" id="theme-toggle"> <span class="toggle-slider"></span> </label>
   </div><!-- Floating Confetti -->
   <div class="confetti rounded-full" style="left: 10%; background: #FFD700; animation-delay: 0s;"></div>
   <div class="confetti rounded-full" style="left: 20%; background: #FF69B4; animation-delay: 0.5s;"></div>
   <div class="confetti rounded-full" style="left: 30%; background: #8B4513; animation-delay: 1s;"></div>
   <div class="confetti rounded-full" style="left: 40%; background: #FFD700; animation-delay: 1.5s;"></div>
   <div class="confetti rounded-full" style="left: 50%; background: #FF69B4; animation-delay: 2s;"></div>
   <div class="confetti rounded-full" style="left: 60%; background: #8B4513; animation-delay: 2.5s;"></div>
   <div class="confetti rounded-full" style="left: 70%; background: #FFD700; animation-delay: 3s;"></div>
   <div class="confetti rounded-full" style="left: 80%; background: #FF69B4; animation-delay: 3.5s;"></div>
   <div class="confetti rounded-full" style="left: 90%; background: #8B4513; animation-delay: 0.3s;"></div><!-- Main Card -->
   <div class="relative w-full max-w-2xl rounded-3xl p-1 animate-pulse-glow theme-transition card-hover" style="background: linear-gradient(135deg, #FFD700, #FF69B4, #8B4513, #FFD700);"><!-- Code Badges -->
    <div class="code-badge badge-html" style="top: -15px; left: 20px; animation-delay: 0s;">
     &lt;HTML&gt;
    </div>
    <div class="code-badge badge-css" style="top: -15px; right: 20px; animation-delay: 0.5s;">
     { CSS }
    </div>
    <div class="code-badge badge-js" style="bottom: -15px; left: 40px; animation-delay: 1s;">
     JS
    </div>
    <div class="code-badge badge-animation" style="bottom: -15px; right: 40px; animation-delay: 1.5s;">
     @ANIMATION
    </div>
    <div class="card-body light-theme rounded-3xl p-6 md:p-10 relative overflow-visible theme-transition"><!-- Decorative Dancing Toys (Left) -->
     <div class="absolute -left-12 top-20 toy-container animate-dance-left element-hover">
      <svg width="50" height="50" viewbox="0 0 50 50" class="drop-shadow-lg"><circle cx="25" cy="28" r="8" fill="#8B6F47" /> <circle cx="25" cy="15" r="7" fill="#A0826D" /> <circle cx="18" cy="8" r="3" fill="#A0826D" /> <circle cx="32" cy="8" r="3" fill="#A0826D" /> <circle cx="18" cy="8" r="1.5" fill="#5D3A1A" /> <circle cx="32" cy="8" r="1.5" fill="#5D3A1A" /> <circle cx="22" cy="13" r="1.5" fill="#000" /> <circle cx="28" cy="13" r="1.5" fill="#000" /> <circle cx="25" cy="16" r="1" fill="#5D3A1A" /> <line x1="20" y1="24" x2="12" y2="28" stroke="#8B6F47" stroke-width="2" stroke-linecap="round" /> <line x1="30" y1="24" x2="38" y2="28" stroke="#8B6F47" stroke-width="2" stroke-linecap="round" /> <line x1="22" y1="36" x2="20" y2="44" stroke="#8B6F47" stroke-width="2" stroke-linecap="round" /> <line x1="28" y1="36" x2="30" y2="44" stroke="#8B6F47" stroke-width="2" stroke-linecap="round" /> <path d="M23 28 L25 26 L27 28 Q25 30 25 31 Q25 30 23 28" fill="#FF1493" />
      </svg>
     </div><!-- Decorative Dancing Toys (Right) -->
     <div class="absolute -right-12 top-24 toy-container animate-dance-right element-hover">
      <svg width="50" height="50" viewbox="0 0 50 50" class="drop-shadow-lg"><circle cx="25" cy="30" r="9" fill="#FFB6D9" /> <circle cx="25" cy="16" r="8" fill="#FFD1E8" /> <ellipse cx="20" cy="2" rx="2.5" ry="8" fill="#FFD1E8" /> <ellipse cx="30" cy="2" rx="2.5" ry="8" fill="#FFD1E8" /> <ellipse cx="20" cy="4" rx="1.5" ry="6" fill="#FFB6D9" /> <ellipse cx="30" cy="4" rx="1.5" ry="6" fill="#FFB6D9" /> <circle cx="22" cy="14" r="1.5" fill="#000" /> <circle cx="28" cy="14" r="1.5" fill="#000" /> <circle cx="25" cy="18" r="1.2" fill="#FF1493" /> <path d="M25 18 Q23 20 22 19" stroke="#FF1493" stroke-width="1" fill="none" stroke-linecap="round" /> <path d="M25 18 Q27 20 28 19" stroke="#FF1493" stroke-width="1" fill="none" stroke-linecap="round" /> <line x1="19" y1="26" x2="10" y2="28" stroke="#FFB6D9" stroke-width="2.5" stroke-linecap="round" /> <line x1="31" y1="26" x2="40" y2="28" stroke="#FFB6D9" stroke-width="2.5" stroke-linecap="round" /> <rect x="21" y="39" width="3" height="8" rx="1.5" fill="#FFB6D9" /> <rect x="26" y="39" width="3" height="8" rx="1.5" fill="#FFB6D9" />
      </svg>
     </div><!-- Corner Swinging Toys -->
     <div class="absolute top-6 left-6 toy-container animate-swing element-hover" style="transform-origin: center top;">
      <svg width="35" height="35" viewbox="0 0 35 35" class="drop-shadow-md"><circle cx="17" cy="17" r="12" fill="#FF6B6B" /> <circle cx="17" cy="17" r="11" fill="url(#ballGradient)" /> <circle cx="13" cy="12" r="2" fill="#FFD700" opacity="0.6" /> <circle cx="21" cy="14" r="2" fill="#FFD700" opacity="0.6" /> <circle cx="19" cy="22" r="2" fill="#FFD700" opacity="0.6" /> <defs>
        <radialgradient id="ballGradient">
         <stop offset="0%" style="stop-color:#FF8787;stop-opacity:1" />
         <stop offset="100%" style="stop-color:#FF4757;stop-opacity:1" />
        </radialgradient>
       </defs>
      </svg>
     </div>
     <div class="absolute top-6 right-6 toy-container animate-swing element-hover" style="transform-origin: center top; animation-delay: 0.3s;">
      <svg width="35" height="35" viewbox="0 0 35 35" class="drop-shadow-md"><polygon points="17,2 21,13 33,13 24,20 28,31 17,24 6,31 10,20 1,13 13,13" fill="#FFD700" /> <polygon points="17,4 20,12 31,12 23,18 26,29 17,23 8,29 11,18 3,12 14,12" fill="#FFED4E" />
      </svg>
     </div><!-- Corner Elements -->
     <div class="absolute top-4 left-4 text-3xl animate-sparkle element-hover">
      ‚ú®
     </div>
     <div class="absolute top-4 right-4 text-3xl animate-sparkle element-hover" style="animation-delay: 0.3s;">
      üéµ
     </div>
     <div class="absolute bottom-4 left-4 text-3xl animate-sparkle element-hover" style="animation-delay: 0.6s;">
      üíÉ
     </div>
     <div class="absolute bottom-4 right-4 text-3xl animate-sparkle element-hover" style="animation-delay: 0.9s;">
      üç´
     </div><!-- Header Section -->
     <div class="text-center mb-6">
      <div class="flex justify-center items-center gap-3 mb-2"><span class="text-4xl animate-float element-hover">üéÇ</span> <span class="text-4xl animate-float-delay element-hover">üéà</span> <span class="text-4xl animate-float element-hover">üéÅ</span>
      </div>
      <p id="date-display" class="font-quicksand text-lg md:text-xl tracking-widest mb-2 theme-transition text-hover" style="color: var(--text-secondary);">‚ú¶ MARCH 4 ‚ú¶</p>
      <h1 class="font-dancing text-4xl md:text-6xl mb-2 theme-transition text-hover" style="color: var(--accent);">Happy Birthday!</h1>
     </div><!-- Name Section -->
     <div class="text-center mb-8">
      <div class="inline-block relative">
       <div class="absolute -inset-4 rounded-full opacity-30 theme-transition animate-pulse" style="background: radial-gradient(circle, var(--highlight) 0%, transparent 70%);"></div>
       <h2 id="name-display" class="font-playfair text-3xl md:text-5xl font-bold relative text-hover" style="color: var(--accent);">Anisha Fathima</h2>
      </div>
      <div class="flex justify-center gap-2 mt-3"><span class="text-2xl animate-music element-hover">üé§</span> <span class="text-2xl animate-music element-hover" style="animation-delay: 0.2s;">üí´</span> <span class="text-2xl animate-music element-hover" style="animation-delay: 0.4s;">üé∂</span>
      </div>
     </div><!-- Chocolate Variant Section -->
     <div class="flex justify-center mb-8">
      <div id="chocolate-variant-display" class="chocolate-variant variant-silk element-hover">
       Milk Bar - Silk Variant üç´
      </div>
     </div><!-- Illustration Section -->
     <div class="flex justify-center mb-8">
      <div class="relative element-hover">
       <svg width="140" height="120" viewbox="0 0 140 120" class="drop-shadow-lg"><ellipse cx="70" cy="110" rx="60" ry="8" fill="#D4A574" opacity="0.5" /> <rect x="20" y="70" width="100" height="40" rx="8" fill="url(#chocolateGradient)" /> <rect x="20" y="70" width="100" height="8" rx="4" fill="#8B4513" /> <rect x="30" y="45" width="80" height="30" rx="6" fill="url(#chocolateGradient)" /> <rect x="30" y="45" width="80" height="6" rx="3" fill="#A0522D" /> <rect x="45" y="25" width="50" height="25" rx="5" fill="url(#chocolateGradient)" /> <rect x="45" y="25" width="50" height="5" rx="2" fill="#8B4513" /> <path d="M25 70 Q30 80 25 85 Q20 90 25 95" stroke="#FFB6C1" stroke-width="4" fill="none" stroke-linecap="round" /> <path d="M50 70 Q55 78 50 85" stroke="#FFB6C1" stroke-width="4" fill="none" stroke-linecap="round" /> <path d="M90 70 Q95 82 90 88" stroke="#FFB6C1" stroke-width="4" fill="none" stroke-linecap="round" /> <path d="M115 70 Q120 78 115 90 Q110 95 115 100" stroke="#FFB6C1" stroke-width="4" fill="none" stroke-linecap="round" /> <rect x="55" y="10" width="4" height="18" fill="#FF69B4" rx="1" /> <rect x="68" y="5" width="4" height="23" fill="#FFD700" rx="1" /> <rect x="81" y="10" width="4" height="18" fill="#FF69B4" rx="1" /> <ellipse cx="57" cy="6" rx="3" ry="5" fill="#FFD700" class="animate-sparkle" /> <ellipse cx="70" cy="1" rx="3" ry="5" fill="#FFA500" class="animate-sparkle" style="animation-delay: 0.2s;" /> <ellipse cx="83" cy="6" rx="3" ry="5" fill="#FFD700" class="animate-sparkle" style="animation-delay: 0.4s;" /> <circle cx="40" cy="85" r="3" fill="#FFD700" /> <circle cx="70" cy="90" r="3" fill="#FF69B4" /> <circle cx="100" cy="85" r="3" fill="#FFD700" /> <circle cx="55" cy="57" r="2" fill="#FFB6C1" /> <circle cx="85" cy="57" r="2" fill="#FFB6C1" /> <defs>
         <lineargradient id="chocolateGradient" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#6B4423" />
          <stop offset="50%" style="stop-color:#8B5A2B" />
          <stop offset="100%" style="stop-color:#5D3A1A" />
         </lineargradient>
        </defs>
       </svg>
      </div>
     </div><!-- Message Section -->
     <div class="text-center mb-8 px-4">
      <div class="rounded-2xl p-6 relative theme-transition element-hover" style="background: linear-gradient(135deg, rgba(255,182,193,0.2) 0%, rgba(255,215,0,0.1) 100%); border: 2px dashed #D4A574;">
       <p id="message-display" class="font-quicksand text-base md:text-lg leading-relaxed theme-transition" style="color: var(--text-primary);">Wishing you a day as sweet as Milk Bar chocolate, filled with beautiful melodies, graceful dance moves, and the joy you bring to every student you inspire! May this year bring you endless standing ovations and delicious moments! üåü</p>
      </div>
     </div><!-- Traits Section with Interactive Buttons -->
     <div class="flex flex-wrap justify-center gap-3 mb-6"><button class="trait-button element-hover" id="singer-btn" style="background: linear-gradient(135deg, #FF69B4, #FF1493); color: #FFF; border-color: #FF69B4;"> <span>üé§</span> <span class="font-quicksand">Singer</span> </button> <button class="trait-button element-hover" id="dancer-btn" style="background: linear-gradient(135deg, #00CED1, #20B2AA); color: #FFF; border-color: #00CED1;"> <span>üíÉ</span> <span class="font-quicksand">Dancer</span> </button> <button class="trait-button element-hover" id="chocolate-btn" style="background: linear-gradient(135deg, #8B4513, #D2691E); color: #FFF; border-color: #D2691E;"> <span>üç´</span> <span class="font-quicksand">Milk Bar</span> </button> <button class="trait-button element-hover" id="coach-btn" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: #333; border-color: #FFD700;"> <span>üë©‚Äçüè´</span> <span class="font-quicksand">Coach</span> </button> <button class="trait-button element-hover" id="gold-btn" style="background: linear-gradient(135deg, #DDD89C, #C4B896); color: #5D3A1A; border-color: #DDD89C;"> <span>‚ú®</span> <span class="font-quicksand">Gold</span> </button>
     </div><!-- Footer -->
     <div class="text-center">
      <div class="flex justify-center items-center gap-2"><span class="text-2xl element-hover">üéä</span>
       <p class="font-dancing text-2xl md:text-3xl theme-transition text-hover" style="color: var(--accent);">Celebrate You!</p><span class="text-2xl element-hover">üéä</span>
      </div>
      <p class="font-quicksand text-sm mt-2 theme-transition" style="color: var(--text-secondary);">With love and warmest wishes üíï</p>
     </div>
    </div>
   </div>
  </div>
  <script>
    function playBirthdayMelody() {
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const notes = [
          { freq: 262, duration: 0.4 }, { freq: 262, duration: 0.4 }, { freq: 294, duration: 0.4 },
          { freq: 262, duration: 0.4 }, { freq: 349, duration: 0.4 }, { freq: 330, duration: 0.8 },
          { freq: 262, duration: 0.4 }, { freq: 262, duration: 0.4 }, { freq: 294, duration: 0.4 },
          { freq: 262, duration: 0.4 }, { freq: 392, duration: 0.4 }, { freq: 349, duration: 0.8 },
        ];
        
        let time = audioContext.currentTime;
        notes.forEach((note) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          oscillator.type = 'sine';
          oscillator.frequency.value = note.freq;
          gainNode.gain.setValueAtTime(0.3, time);
          gainNode.gain.exponentialRampToValueAtTime(0.01, time + note.duration);
          oscillator.start(time);
          oscillator.stop(time + note.duration);
          time += note.duration;
        });
      } catch (e) {}
    }

    function blastIcons(icon, count = 12) {
      const container = document.getElementById('blast-container');
      for (let i = 0; i < count; i++) {
        const blast = document.createElement('div');
        blast.className = 'icon-blast';
        blast.textContent = icon;
        const angle = (i / count) * Math.PI * 2;
        const distance = 200 + Math.random() * 100;
        const endX = Math.cos(angle) * distance;
        const endY = Math.sin(angle) * distance;
        blast.style.setProperty('--start-x', '0px');
        blast.style.setProperty('--start-y', '0px');
        blast.style.setProperty('--end-x', `${endX}px`);
        blast.style.setProperty('--end-y', `${endY}px`);
        blast.style.left = '50%';
        blast.style.top = '50%';
        blast.style.transform = 'translate(-50%, -50%)';
        container.appendChild(blast);
        setTimeout(() => blast.remove(), 1200);
      }
    }

    function startCountdown() {
      let count = 4;
      const countdownScreen = document.getElementById('countdown-screen');
      const countdownNumber = document.getElementById('countdown-number');
      const cardContainer = document.getElementById('card-container');
      
      const countdownInterval = setInterval(() => {
        if (count > 0) {
          countdownNumber.textContent = count;
          countdownNumber.classList.remove('countdown-fade');
          countdownNumber.classList.add('countdown-active');
          count--;
        } else {
          clearInterval(countdownInterval);
          countdownNumber.classList.remove('countdown-active');
          countdownNumber.classList.add('countdown-fade');
          setTimeout(() => {
            countdownScreen.style.display = 'none';
            cardContainer.classList.remove('hidden');
          }, 800);
        }
      }, 1000);
    }

    const defaultConfig = {
      recipient_name: "Anisha Fathima",
      birthday_date: "March 4",
      main_message: "Wishing you a day as sweet as Milk Bar chocolate, filled with beautiful melodies, graceful dance moves, and the joy you bring to every student you inspire! May this year bring you endless standing ovations and delicious moments! üåü",
      chocolate_variant: "Silk",
      primary_color: "#C71585",
      secondary_color: "#8B5A2B",
      accent_color: "#FFD700",
      background_color: "#FFF5EE",
      text_color: "#5D3A1A",
      font_family: "Playfair Display",
      font_size: 16,
      theme: "light"
    };

    const chocolateVariants = {
      "Silk": { label: "Milk Bar - Silk Variant üç´", class: "variant-silk" },
      "Almond": { label: "Milk Bar - Almond Variant üç´", class: "variant-almond" },
      "Caramel": { label: "Milk Bar - Caramel Variant üç´", class: "variant-caramel" },
      "Roast": { label: "Milk Bar - Roast Variant üç´", class: "variant-roast" },
      "White": { label: "Milk Bar - White Variant üç´", class: "variant-white" },
      "Gold": { label: "Milk Bar - Gold Variant ‚ú®", class: "variant-gold" }
    };

    document.addEventListener('DOMContentLoaded', () => {
      startCountdown();
      
      const singer = document.getElementById('singer-btn');
      const dancer = document.getElementById('dancer-btn');
      const chocolate = document.getElementById('chocolate-btn');
      const coach = document.getElementById('coach-btn');
      const gold = document.getElementById('gold-btn');
      const themeToggle = document.getElementById('theme-toggle');
      const musicButton = document.getElementById('music-button');

      singer.addEventListener('click', () => {
        blastIcons('üéµ', 15);
        playBirthdayMelody();
      });

      dancer.addEventListener('click', () => {
        blastIcons('üíÉ', 15);
      });

      chocolate.addEventListener('click', () => {
        blastIcons('üç´', 15);
        applyChocolateTheme();
      });

      coach.addEventListener('click', () => {
        blastIcons('üë©‚Äçüè´', 15);
      });

      gold.addEventListener('click', () => {
        blastIcons('‚ú®', 15);
        applyGoldTheme();
      });

      musicButton.addEventListener('click', function() {
        playBirthdayMelody();
      });

      themeToggle.addEventListener('change', (e) => {
        updateTheme(e.target.checked);
      });
      
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      } else {
        onConfigChange(defaultConfig);
      }
    });

    function applyChocolateTheme() {
      const container = document.getElementById('card-container');
      const cardBody = container.querySelector('.card-body');
      
      container.style.background = 'linear-gradient(135deg, #5D3A1A 0%, #8B5A2B 30%, #A0826D 60%, #6B4423 100%)';
      cardBody.style.background = 'linear-gradient(180deg, #8B6F47 0%, #A0826D 50%, #8B7355 100%)';
      cardBody.style.color = '#FFE4B5';
      
      document.querySelectorAll('.font-playfair, .font-dancing, h1, h2, p').forEach(el => {
        el.style.color = '#FFE4B5';
      });
      
      document.querySelectorAll('.text-hover').forEach(el => {
        el.style.color = '#FFE4B5';
      });
      
      document.getElementById('message-display').style.color = '#FFE4B5';
      document.getElementById('date-display').style.color = '#FFE4B5';
    }

    function applyGoldTheme() {
      const container = document.getElementById('card-container');
      const cardBody = container.querySelector('.card-body');
      
      container.style.background = 'linear-gradient(135deg, #DDD89C 0%, #E8E4AD 30%, #D4CA8D 60%, #C4B896 100%)';
      cardBody.style.background = 'linear-gradient(180deg, #E8DFA0 0%, #D4CA8D 50%, #CCC17D 100%)';
      cardBody.style.color = '#5D3A1A';
      
      document.querySelectorAll('.font-playfair, .font-dancing, h1, h2, p').forEach(el => {
        el.style.color = '#5D3A1A';
      });
      
      document.querySelectorAll('.text-hover').forEach(el => {
        el.style.color = '#5D3A1A';
      });
      
      document.getElementById('message-display').style.color = '#5D3A1A';
      document.getElementById('date-display').style.color = '#5D3A1A';
    }

    function createBalloon() {
      const balloonClasses = ['balloon-red', 'balloon-blue', 'balloon-yellow', 'balloon-pink', 'balloon-purple', 'balloon-green'];
      const randomClass = balloonClasses[Math.floor(Math.random() * balloonClasses.length)];
      const balloon = document.createElement('div');
      balloon.className = `balloon ${randomClass}`;
      const size = Math.random() * 30 + 20;
      balloon.style.width = `${size}px`;
      balloon.style.height = `${size}px`;
      balloon.style.left = `${Math.random() * 90 + 5}%`;
      balloon.style.animationDelay = `${Math.random() * 5}s`;
      document.getElementById('balloons-container').appendChild(balloon);
      setTimeout(() => balloon.remove(), 10000);
    }

    function createBubble() {
      const bubble = document.createElement('div');
      bubble.className = 'bubble bubble-float';
      const size = Math.random() * 40 + 15;
      bubble.style.width = `${size}px`;
      bubble.style.height = `${size}px`;
      bubble.style.left = `${Math.random() * 80 + 10}%`;
      bubble.style.bottom = '-100px';
      bubble.style.animationDelay = `${Math.random() * 3}s`;
      document.getElementById('bubbles-container').appendChild(bubble);
      setTimeout(() => bubble.remove(), 7000);
    }

    function createCodeTag() {
      const codeTags = [
        { text: '&lt;HTML&gt;', class: 'code-tag-html' },
        { text: '{ CSS }', class: 'code-tag-css' },
        { text: 'JS', class: 'code-tag-js' },
        { text: '@keyframes', class: 'code-tag-animation' },
        { text: '&lt;DIV&gt;', class: 'code-tag-html' },
        { text: 'animation', class: 'code-tag-animation' },
        { text: 'transform', class: 'code-tag-css' },
        { text: 'function()', class: 'code-tag-js' }
      ];
      
      const randomTag = codeTags[Math.floor(Math.random() * codeTags.length)];
      const codeTag = document.createElement('div');
      codeTag.className = `code-tag ${randomTag.class}`;
      codeTag.innerHTML = randomTag.text;
      codeTag.style.left = `${Math.random() * 85 + 7.5}%`;
      codeTag.style.top = '-50px';
      codeTag.style.animationDuration = `${Math.random() * 3 + 5}s`;
      document.getElementById('code-tags-container').appendChild(codeTag);
      setTimeout(() => codeTag.remove(), 9000);
    }

    setInterval(createBalloon, 2000);
    setInterval(createBubble, 1500);
    setInterval(createCodeTag, 2500);

    // Color rotation every 15 seconds with vibrant gradients
    const colorSchemes = [
      { html: 'linear-gradient(135deg, #FF6B9D 0%, #C44569 100%)', css: 'linear-gradient(135deg, #00D2FC 0%, #3A47D5 100%)', js: 'linear-gradient(135deg, #FFC837 0%, #FF8C00 100%)', anim: 'linear-gradient(135deg, #11998E 0%, #38EF7D 100%)' },
      { html: 'linear-gradient(135deg, #667EEA 0%, #764BA2 100%)', css: 'linear-gradient(135deg, #F093FB 0%, #F5576C 100%)', js: 'linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)', anim: 'linear-gradient(135deg, #FA709A 0%, #FEE140 100%)' },
      { html: 'linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 100%)', css: 'linear-gradient(135deg, #A8EDEA 0%, #FED6E3 100%)', js: 'linear-gradient(135deg, #FF9A56 0%, #FF6A88 100%)', anim: 'linear-gradient(135deg, #2E2E78 0%, #13547A 100%)' },
      { html: 'linear-gradient(135deg, #FF6E7F 0%, #BFE9FF 100%)', css: 'linear-gradient(135deg, #A8EDEA 0%, #FED6E3 100%)', js: 'linear-gradient(135deg, #FDBB2D 0%, #22C1C3 100%)', anim: 'linear-gradient(135deg, #8EC5FC 0%, #E0C3FC 100%)' },
      { html: 'linear-gradient(135deg, #FF1654 0%, #FFB368 100%)', css: 'linear-gradient(135deg, #00D4FF 0%, #0099FF 100%)', js: 'linear-gradient(135deg, #FFAA56 0%, #FF6A88 100%)', anim: 'linear-gradient(135deg, #667EEA 0%, #764BA2 100%)' },
      { html: 'linear-gradient(135deg, #13547A 0%, #80D0C7 100%)', css: 'linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 100%)', js: 'linear-gradient(135deg, #F77737 0%, #FDB462 100%)', anim: 'linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)' },
      { html: 'linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)', css: 'linear-gradient(135deg, #11998E 0%, #38EF7D 100%)', js: 'linear-gradient(135deg, #FF1654 0%, #FFB368 100%)', anim: 'linear-gradient(135deg, #A8EDEA 0%, #FED6E3 100%)' },
      { html: 'linear-gradient(135deg, #8EC5FC 0%, #E0C3FC 100%)', css: 'linear-gradient(135deg, #F093FB 0%, #F5576C 100%)', js: 'linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)', anim: 'linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 100%)' }
    ];

    let schemeIndex = 0;

    setInterval(() => {
      schemeIndex = (schemeIndex + 1) % colorSchemes.length;
      const colors = colorSchemes[schemeIndex];
      document.querySelectorAll('.code-tag').forEach(tag => {
        if (tag.className.includes('code-tag-html')) tag.style.background = colors.html;
        else if (tag.className.includes('code-tag-css')) tag.style.background = colors.css;
        else if (tag.className.includes('code-tag-js')) tag.style.background = colors.js;
        else tag.style.background = colors.anim;
      });
    }, 15000);

    function updateTheme(isDark) {
      const body = document.body;
      const container = document.getElementById('card-container');
      const cardBody = container.querySelector('.card-body');
      
      if (isDark) {
        body.classList.remove('light-theme');
        body.classList.add('dark-theme');
        container.classList.remove('light-theme');
        container.classList.add('dark-theme');
        cardBody.classList.remove('light-theme');
        cardBody.classList.add('dark-theme');
        
        document.documentElement.style.setProperty('--bg-primary', 'linear-gradient(135deg, #0F0F2E 0%, #1A1A4D 30%, #2D1B4E 60%, #1E0E3F 100%)');
        document.documentElement.style.setProperty('--card-bg', 'linear-gradient(180deg, #1A1A3D 0%, #242454 50%, #1F1F42 100%)');
        document.documentElement.style.setProperty('--text-primary', '#E8D4C4');
        document.documentElement.style.setProperty('--text-secondary', '#D4A574');
        document.documentElement.style.setProperty('--accent', '#FF1493');
        document.documentElement.style.setProperty('--highlight', '#00CED1');
      } else {
        body.classList.add('light-theme');
        body.classList.remove('dark-theme');
        container.classList.add('light-theme');
        container.classList.remove('dark-theme');
        cardBody.classList.add('light-theme');
        cardBody.classList.remove('dark-theme');
        
        document.documentElement.style.setProperty('--bg-primary', 'linear-gradient(135deg, #FFF5EE 0%, #FFE4E1 30%, #FFDAB9 60%, #FFF0F5 100%)');
        document.documentElement.style.setProperty('--card-bg', 'linear-gradient(180deg, #FFFAF0 0%, #FFF5EE 50%, #FFEFD5 100%)');
        document.documentElement.style.setProperty('--text-primary', '#5D3A1A');
        document.documentElement.style.setProperty('--text-secondary', '#8B5A2B');
        document.documentElement.style.setProperty('--accent', '#C71585');
        document.documentElement.style.setProperty('--highlight', '#FFD700');
      }
      
      if (window.elementSdk) {
        window.elementSdk.setConfig({ theme: isDark ? "dark" : "light" });
      }
    }

    async function onConfigChange(config) {
      const nameEl = document.getElementById('name-display');
      const dateEl = document.getElementById('date-display');
      const messageEl = document.getElementById('message-display');
      const variantEl = document.getElementById('chocolate-variant-display');
      
      if (nameEl) nameEl.textContent = config.recipient_name || defaultConfig.recipient_name;
      if (dateEl) dateEl.textContent = `‚ú¶ ${(config.birthday_date || defaultConfig.birthday_date).toUpperCase()} ‚ú¶`;
      if (messageEl) messageEl.textContent = config.main_message || defaultConfig.main_message;
      
      if (variantEl) {
        const variant = config.chocolate_variant || defaultConfig.chocolate_variant;
        const variantInfo = chocolateVariants[variant] || chocolateVariants["Silk"];
        variantEl.textContent = variantInfo.label;
        variantEl.className = `chocolate-variant ${variantInfo.class}`;
      }
      
      const customFont = config.font_family || defaultConfig.font_family;
      document.querySelectorAll('.font-playfair').forEach(el => {
        el.style.fontFamily = `${customFont}, Playfair Display, serif`;
      });
      
      const baseSize = config.font_size || defaultConfig.font_size;
      if (messageEl) messageEl.style.fontSize = `${baseSize}px`;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          { get: () => config.background_color || defaultConfig.background_color, set: (value) => { config.background_color = value; if (window.elementSdk) window.elementSdk.setConfig({ background_color: value }); } },
          { get: () => config.secondary_color || defaultConfig.secondary_color, set: (value) => { config.secondary_color = value; if (window.elementSdk) window.elementSdk.setConfig({ secondary_color: value }); } },
          { get: () => config.text_color || defaultConfig.text_color, set: (value) => { config.text_color = value; if (window.elementSdk) window.elementSdk.setConfig({ text_color: value }); } },
          { get: () => config.primary_color || defaultConfig.primary_color, set: (value) => { config.primary_color = value; if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value }); } },
          { get: () => config.accent_color || defaultConfig.accent_color, set: (value) => { config.accent_color = value; if (window.elementSdk) window.elementSdk.setConfig({ accent_color: value }); } }
        ],
        borderables: [],
        fontEditable: { get: () => config.font_family || defaultConfig.font_family, set: (value) => { config.font_family = value; if (window.elementSdk) window.elementSdk.setConfig({ font_family: value }); } },
        fontSizeable: { get: () => config.font_size || defaultConfig.font_size, set: (value) => { config.font_size = value; if (window.elementSdk) window.elementSdk.setConfig({ font_size: value }); } }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["recipient_name", config.recipient_name || defaultConfig.recipient_name],
        ["birthday_date", config.birthday_date || defaultConfig.birthday_date],
        ["main_message", config.main_message || defaultConfig.main_message],
        ["chocolate_variant", config.chocolate_variant || defaultConfig.chocolate_variant]
      ]);
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cd26be836f3b2b1',t:'MTc3MDk2NTc0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>